<div class="container-fluid box">
  <div class="sign-in-form col-md-offset-4 col-md-4 col-lg-offset-4 col-lg-4 col-sm-offset-2 col-sm-8">
    <div *ngIf="loginMessage" class="alert alert-warning">
      {{ loginMessage }}
    </div>
    <form [formGroup]="loginForm" (submit)="login()" novadivdate> <!--novalidate to stop html validation-->
      <h2>Sign In or Register</h2>
      <br/>
      <div class="form-group" [ngClass]="{'has-error': loginForm.get('email').dirty && (!loginForm.get('email').valid || !validEmail)}">
        <label for="email">Email:</label>
        <input type="email" name="email" class="form-control" formControlName="email">
      </div>
      <div *ngIf="loginForm.controls['email'].errors?.required  && loginForm.controls['email'].dirty"><!--Validation messages-->
        <em>Please enter your email.</em>
      </div>
      <div *ngIf="!validEmail && loginForm.controls['email'].dirty">
        <em>Invalid email.</em>
      </div>
      <div class="form-group" [ngClass]="{'has-error': loginForm.get('password').dirty && (!loginForm.get('password').valid || !validPassword) }">
        <label for="password">Password:</label>
        <input type="password" name="password" class="form-control" formControlName="password">
      </div>
      <div *ngIf="loginForm.controls['password'].errors?.required && loginForm.controls['password'].dirty"><!--Validation messages-->
        <em>Please enter your password.</em>
      </div>
      <div *ngIf="!validPassword && loginForm.controls['password'].dirty">
        <em>Invalid password.</em>
      </div>
      <div>
        <button class="btn btn-success" type="submit" [disabled]="!loginForm.valid || !validPassword || !validEmail">Sign In</button>
        <button class="btn btn-primary" type="button" data-toggle="modal" data-target="#myModal">Register</button>
      </div>
    </form>
  </div>
</div>
<!--Register Modal start-->
<div class="modal fade" id="myModal" role="dialog">
  <div class="modal-dialog">
    <app-register></app-register>
  </div>
</div>
<!--Register Modal end-->
